(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3352:(e,s,r)=>{Promise.resolve().then(r.bind(r,4649))},4649:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>S});var t=r(5892),a=r(9742),l=r(751);function d(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,l.QP)((0,a.$)(s))}function n(e){try{return JSON.stringify(e,null,2)}catch(s){return String(e)}}function c(e){try{return JSON.parse(e)}catch(s){return e}}function i(e){try{return JSON.parse(e),!0}catch(e){return!1}}var o=r(3528);let u=o.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});u.displayName="Card";let m=o.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:d("flex flex-col space-y-1.5 p-6",r),...a})});m.displayName="CardHeader";let x=o.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:d("text-2xl font-semibold leading-none tracking-tight",r),...a})});x.displayName="CardTitle",o.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:d("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let h=o.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:d("p-6 pt-0",r),...a})});function f(e){let{response:s,loading:r}=e;return r?(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsxs)(u,{className:"h-full",children:[(0,t.jsx)(m,{children:(0,t.jsx)(x,{children:"Response"})}),(0,t.jsx)(h,{children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-2/3"})]})})]})}):s?(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsxs)(u,{className:"h-full",children:[(0,t.jsx)(m,{children:(0,t.jsxs)(x,{className:"flex items-center justify-between",children:["Response",(0,t.jsxs)("span",{className:"px-2 py-1 text-xs rounded ".concat(s.status>=200&&s.status<300?"bg-green-100 text-green-800":s.status>=400?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:[s.status," ",s.statusText]})]})}),(0,t.jsx)(h,{className:"h-full overflow-auto",children:(0,t.jsxs)("div",{className:"space-y-4",children:[s.headers&&Object.keys(s.headers).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Headers"}),(0,t.jsx)("pre",{className:"bg-muted p-3 rounded text-sm overflow-auto",children:n(s.headers)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Body"}),(0,t.jsx)("pre",{className:"bg-muted p-3 rounded text-sm overflow-auto custom-scrollbar",children:n(s.data)})]})]})})]})}):(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsxs)(u,{className:"h-full",children:[(0,t.jsx)(m,{children:(0,t.jsx)(x,{children:"Response"})}),(0,t.jsx)(h,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCE1"}),(0,t.jsx)("p",{children:"Make a request to see the response"})]})})})]})})}function j(e){let{schema:s}=e;return(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsxs)(u,{className:"h-full",children:[(0,t.jsx)(m,{children:(0,t.jsx)(x,{children:"Schema"})}),(0,t.jsx)(h,{className:"h-full overflow-auto",children:(0,t.jsx)("pre",{className:"bg-muted p-3 rounded text-sm overflow-auto custom-scrollbar",children:n(s)})})]})})}h.displayName="CardContent",o.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:d("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var v=r(2871);let p=(0,r(2128).F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=o.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:n=!1,...c}=e,i=n?v.DX:"button";return(0,t.jsx)(i,{className:d(p({variant:a,size:l,className:r})),ref:s,...c})});b.displayName="Button";class g{async getServices(){let e=await fetch("".concat(this.baseUrl,"/services"));if(!e.ok)throw Error("Failed to fetch services: ".concat(e.statusText));return e.json()}async makeRequest(e){let{method:s,servicePath:r,query:t,data:a,headers:l={},id:d}=e,n="".concat(this.baseUrl).concat(r.startsWith("/")?r:"/"+r);if(d&&["get","patch","remove"].includes(s)&&(n+="/".concat(d)),t&&Object.keys(t).length>0){let e=new URLSearchParams;Object.entries(t).forEach(s=>{let[r,t]=s;null!=t&&""!==t&&e.append(r,String(t))}),e.toString()&&(n+="?".concat(e.toString()))}let c={method:this.getHttpMethod(s),headers:{"Content-Type":"application/json",...l}};["create","patch"].includes(s)&&a&&(c.body=JSON.stringify(a));try{let e=await fetch(n,c),s=await e.json().catch(()=>null),r={data:s,status:e.status,statusText:e.statusText,headers:this.extractHeaders(e.headers)};if(!e.ok)throw{message:(null==s?void 0:s.message)||e.statusText,code:(null==s?void 0:s.code)||e.status,className:null==s?void 0:s.className,data:null==s?void 0:s.data,errors:null==s?void 0:s.errors};return r}catch(e){if(e instanceof Error&&"code"in e)throw e;throw{message:e instanceof Error?e.message:"Network error",code:"NETWORK_ERROR"}}}getHttpMethod(e){switch(e){case"find":case"get":default:return"GET";case"create":return"POST";case"patch":return"PATCH";case"remove":return"DELETE"}}extractHeaders(e){let s={};return e.forEach((e,r)=>{s[r]=e}),s}constructor(e="http://localhost:3030"){this.baseUrl=e}}let N=new g;var y=r(7);function w(e){let{selectedService:s,onServiceSelect:r}=e,{data:a,isLoading:l,error:n}=(0,y.I)({queryKey:["services"],queryFn:()=>N.getServices(),staleTime:3e5});return l?(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-2/3"})]})}):n?(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)(u,{children:[(0,t.jsx)(m,{children:(0,t.jsx)(x,{className:"text-destructive",children:"Error"})}),(0,t.jsx)(h,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Failed to load services. Make sure the backend is running."})})]})}):(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Services"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(null==a?void 0:a.length)||0," service(s) available"]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-2",children:[null==a?void 0:a.map(e=>(0,t.jsx)(b,{variant:(null==s?void 0:s.name)===e.name?"default":"ghost",className:d("w-full justify-start h-auto p-3 text-left",(null==s?void 0:s.name)===e.name&&"bg-primary text-primary-foreground"),onClick:()=>r(e),children:(0,t.jsxs)("div",{className:"flex flex-col items-start space-y-1",children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-xs opacity-70",children:e.path}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.methods.map(r=>(0,t.jsx)("span",{className:d("px-1.5 py-0.5 text-xs rounded font-mono",(null==s?void 0:s.name)===e.name?"bg-primary-foreground/20 text-primary-foreground":"bg-muted text-muted-foreground"),children:r.toUpperCase()},r))}),e.description&&(0,t.jsx)("div",{className:"text-xs opacity-60 mt-1",children:e.description})]})},e.name)),(!a||0===a.length)&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No services found"})})]})]})}function k(e){let{service:s,onResponse:r,loading:a,onLoadingChange:l}=e,[d,n]=(0,o.useState)("find"),[f,j]=(0,o.useState)("{}"),[v,p]=(0,o.useState)("{}"),[g,y]=(0,o.useState)("{}"),[w,k]=(0,o.useState)(""),S=async()=>{if(s){l(!0);try{let e={method:d,servicePath:s.path,query:i(f)?c(f):{},data:i(v)?c(v):{},headers:i(g)?c(g):{},id:w||void 0},t=await N.makeRequest(e);r(t)}catch(e){r({data:e,status:500,statusText:"Error",headers:{}})}finally{l(!1)}}};return s?(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsxs)(u,{className:"h-full",children:[(0,t.jsx)(m,{children:(0,t.jsxs)(x,{children:["Request Builder - ",s.name]})}),(0,t.jsxs)(h,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Method"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:s.methods.map(e=>(0,t.jsx)(b,{variant:d===e?"default":"outline",size:"sm",onClick:()=>n(e),children:e.toUpperCase()},e))})]}),["get","patch","remove"].includes(d)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"ID"}),(0,t.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),placeholder:"Enter ID",className:"w-full p-2 border border-input rounded-md bg-background"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Query Parameters (JSON)"}),(0,t.jsx)("textarea",{value:f,onChange:e=>j(e.target.value),placeholder:'{"$limit": 10, "$skip": 0}',className:"w-full h-24 p-2 border border-input rounded-md bg-background font-mono text-sm"})]}),["create","patch"].includes(d)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Request Body (JSON)"}),(0,t.jsx)("textarea",{value:v,onChange:e=>p(e.target.value),placeholder:'{"name": "John Doe", "email": "john@example.com"}',className:"w-full h-32 p-2 border border-input rounded-md bg-background font-mono text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Headers (JSON)"}),(0,t.jsx)("textarea",{value:g,onChange:e=>y(e.target.value),placeholder:'{"Authorization": "Bearer token"}',className:"w-full h-20 p-2 border border-input rounded-md bg-background font-mono text-sm"})]}),(0,t.jsx)(b,{onClick:S,disabled:a,className:"w-full",children:a?"Sending...":"Send Request"})]})]})}):(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsxs)(u,{className:"h-full",children:[(0,t.jsx)(m,{children:(0,t.jsx)(x,{children:"Request Builder"})}),(0,t.jsx)(h,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD27"}),(0,t.jsx)("p",{children:"Select a service to build requests"})]})})})]})})}function S(){let[e,s]=(0,o.useState)(null),[r,a]=(0,o.useState)(null),[l,d]=(0,o.useState)(!1);return(0,t.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,t.jsx)("div",{className:"w-80 border-r border-border bg-card",children:(0,t.jsx)(w,{selectedService:e,onServiceSelect:s})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("header",{className:"border-b border-border bg-card px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:"\uD83E\uDEB6âœ¨"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Feathers Playground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"API Testing Playground for Feathers Services"})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e?"".concat(e.name," service"):"Select a service"})})]})}),(0,t.jsxs)("div",{className:"flex-1 flex",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"flex-1 border-r border-border",children:(0,t.jsx)(k,{service:e,onResponse:a,loading:l,onLoadingChange:d})}),(null==e?void 0:e.schema)&&(0,t.jsx)("div",{className:"h-80 border-r border-border border-t",children:(0,t.jsx)(j,{schema:e.schema})})]}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(f,{response:r,loading:l})})]})]})]})}}},e=>{e.O(0,[879,902,860,608,358],()=>e(e.s=3352)),_N_E=e.O()}]);